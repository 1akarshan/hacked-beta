{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\nimport { IonContent, IonIcon, IonModal, IonHeader, IonTitle, IonText, IonCard, IonCardHeader, IonCardTitle, IonLabel, IonToolbar, IonPage, IonButtons, IonButton, IonGrid, IonRow, IonCol, IonImg, modalController, loadingController } from '@ionic/vue';\nimport { defineComponent } from 'vue';\nimport { cameraOutline, arrowBackOutline } from 'ionicons/icons';\nimport { MediaCapture } from '@awesome-cordova-plugins/media-capture';\nimport { Capacitor } from '@capacitor/core';\nimport axios from 'axios';\nexport default defineComponent({\n  name: 'ModalVue',\n  components: {\n    IonContent,\n    IonCard,\n    IonLabel,\n    IonPage,\n    IonCardHeader,\n    IonCardTitle,\n    IonHeader,\n    IonModal,\n    IonTitle,\n    IonToolbar,\n    IonButtons,\n    IonButton,\n    IonIcon,\n    IonGrid,\n    IonRow,\n    IonCol,\n    IonImg,\n    IonText\n  },\n  mounted() {\n    // REMOVEE THIS SHITTT\n    document.getElementById(\"modalButton\").click();\n  },\n  data() {\n    return {\n      videoInfo: {},\n      icon: {\n        md: cameraOutline,\n        ios: cameraOutline,\n        mdBack: arrowBackOutline,\n        iosBack: arrowBackOutline\n      }\n    };\n  },\n  props: {\n    id: {\n      type: Number,\n      default: null\n    },\n    title: {\n      type: String,\n      default: null\n    },\n    question: {\n      type: String,\n      default: null\n    },\n    difficulty: {\n      type: String,\n      default: null\n    },\n    color: {\n      type: String,\n      default: null\n    },\n    optionset1: {\n      type: Array,\n      default: null\n    },\n    optionset2: {\n      type: Array,\n      default: null\n    },\n    link: {\n      type: String,\n      default: null\n    }\n  },\n  methods: {\n    cancel() {\n      return modalController.dismiss('cancel', this.videoInfo);\n    },\n    takeVideo: async function () {\n      try {\n        const options = {\n          duration: 10,\n          limit: 1,\n          quality: 1\n        };\n        const result = await MediaCapture.captureVideo(options);\n        this.videoInfo = result[0];\n        // console.log(\"videoInfo\", JSON.stringify(result[0]));\n        const blob = await fetch(Capacitor.convertFileSrc(this.videoInfo.fullPath)).then(r => r.blob());\n        const formData = new FormData();\n        formData.append(\"file\", blob, this.videoInfo.name);\n        // convert video blob to base64\n        let reader = new FileReader();\n        reader.readAsDataURL(blob);\n        reader.onloadend = async function () {\n          let base64data = reader.result;\n          let trimmed = base64data.substring(base64data.indexOf(\",\") + 1);\n          console.log(trimmed); // DEBUG\n          const loading = await loadingController.create({\n            message: 'Please wait...'\n          });\n          await loading.present();\n          axios({\n            method: \"post\",\n            url: \"https://hacked-beta-server.herokuapp.com/upload/\",\n            data: JSON.stringify({\n              _data: trimmed\n            }),\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          }).then(response => {\n            alert(response);\n            loading.dismiss();\n            if (response.status == 200) {\n              alert(JSON.stringify(response.data));\n              document.getElementById(\"modalButton\").click();\n            }\n          });\n        };\n      } catch (error) {\n        // NEVER PUT ALERT HERE\n        console.log(error);\n      }\n    }\n  }\n});","map":{"version":3,"mappings":"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","names":["IonContent","IonIcon","IonModal","IonHeader","IonTitle","IonText","IonCard","IonCardHeader","IonCardTitle","IonLabel","IonToolbar","IonPage","IonButtons","IonButton","IonGrid","IonRow","IonCol","IonImg","modalController","loadingController","defineComponent","cameraOutline","arrowBackOutline","MediaCapture","Capacitor","axios","name","components","mounted","document","getElementById","click","data","videoInfo","icon","md","ios","mdBack","iosBack","props","id","type","Number","default","title","String","question","difficulty","color","optionset1","Array","optionset2","link","methods","cancel","dismiss","takeVideo","options","duration","limit","quality","result","captureVideo","blob","fetch","convertFileSrc","fullPath","then","r","formData","FormData","append","reader","FileReader","readAsDataURL","onloadend","base64data","trimmed","substring","indexOf","console","log","loading","create","message","present","method","url","JSON","stringify","_data","headers","response","alert","status","error"],"sourceRoot":"","sources":["C:\\Users\\akars\\OneDrive\\Documents\\GitHub\\hacked-beta\\frontend\\ASLlingo\\src\\components\\ModalComponent.vue"],"sourcesContent":["<template>\r\n    <ion-page>\r\n        <ion-header>\r\n        <ion-toolbar>\r\n            <ion-buttons slot=\"start\">\r\n            <ion-button color=\"medium\" @click=\"cancel\">\r\n                <ion-icon :md=\"icon.mdBack\" :ios=\"icon.iosBack\" ></ion-icon>\r\n            </ion-button>\r\n            </ion-buttons>\r\n            <ion-grid>\r\n                <ion-row style=\"margin-bottom:0;padding-bottom:0\">\r\n                    <ion-title style=\"margin-bottom:0;padding-bottom:0\">{{title}}</ion-title>\r\n                </ion-row>\r\n                <ion-row>\r\n                    <ion-label style=\"padding-left:1.2rem\">\r\n                        <ion-text :color=\"color\">\r\n                            <p><strong>{{difficulty}}</strong></p>\r\n                        </ion-text>\r\n                    </ion-label>\r\n                </ion-row>\r\n            </ion-grid>\r\n        </ion-toolbar>\r\n        </ion-header>\r\n        <ion-content :fullscreen=\"true\" v-if=\"difficulty=='Easy'\">\r\n            <div class=\"box\">\r\n                <div id=\"whiteSpace\"></div>\r\n                <ion-grid>\r\n                    <ion-row style=\"margin-bottom:0;padding-bottom:0\">\r\n                        <p style=\"margin-bottom:5px;padding-bottom:10px\" id=\"questionHeader\">{{question}}</p>\r\n                    </ion-row>\r\n                    <ion-row style=\"margin-top:0;padding-top:0\">\r\n                        <ion-col style=\"margin-top:0;padding-top:0\">\r\n                            <p style=\"margin-top:0;padding-top:0\" id=\"questionHint\">Hint: Click the Camera icon to select your choice.</p>\r\n                        </ion-col>\r\n                    </ion-row>\r\n                    <ion-row>\r\n                        <ion-col v-for=\"item in optionset1\" :key=\"item.id\" style=\"\">\r\n                            <ion-card>\r\n                                <img alt=\"Silhouette of mountains\" :src=item.link />\r\n                                <ion-card-header>\r\n                                    <ion-card-title>{{item.title}}</ion-card-title>\r\n                                </ion-card-header>\r\n                            </ion-card>\r\n                        </ion-col>\r\n                    </ion-row>\r\n                    <ion-row>\r\n                        <ion-col v-for=\"item in optionset2\" :key=\"item.id\" style=\"\">\r\n                            <ion-card>\r\n                                <img alt=\"Silhouette of mountains\" src=\"https://ionicframework.com/docs/img/demos/card-media.png\" />\r\n                                <ion-card-header>\r\n                                    <ion-card-title>{{item.title}}</ion-card-title>\r\n                                </ion-card-header>\r\n                            </ion-card>\r\n                        </ion-col>\r\n                    </ion-row>\r\n                </ion-grid>        \r\n                <div style=\"text-align:center\">\r\n                    <ion-button @click=\"takeVideo\" shape=\"circle\" id=\"send\">\r\n                        <ion-icon :md=\"icon.md\" :ios=\"icon.ios\"></ion-icon>\r\n                    </ion-button>\r\n                </div>\r\n            </div>\r\n            <button id=\"modalButton\" style=\"display:none\"></button>\r\n            <ion-modal trigger=\"modalButton\" ref=\"modal\" :initial-breakpoint=\"0.25\" :breakpoints=\"[0, 0.25, 0.5, 0.75]\">\r\n                \r\n                <ion-content class=\"ion-padding\">\r\n                \r\n                </ion-content>\r\n            </ion-modal>\r\n        </ion-content>\r\n        <ion-content :fullscreen=\"true\" v-else>\r\n            <div class=\"box\">\r\n                <div id=\"whiteSpace\"></div>\r\n                <ion-grid>\r\n                    <ion-row style=\"margin-bottom:0;padding-bottom:0\">\r\n                        <p style=\"margin-bottom:5px;padding-bottom:10px\" id=\"questionHeader\">{{question}}</p>\r\n                    </ion-row>\r\n                    <ion-row style=\"margin-top:0;padding-top:0\">\r\n                        <ion-col style=\"margin-top:0;padding-top:0\">\r\n                            <p style=\"margin-top:0;padding-top:0\" id=\"questionHint\">Hint: Click the Camera icon to select your choice.</p>\r\n                        </ion-col>\r\n                    </ion-row>\r\n                </ion-grid>        \r\n                <div style=\"text-align:center\">\r\n                    <ion-img :src=\"link\" alt=\"Tasd\" style=\"margin-bottom:20px\"></ion-img>\r\n                    <ion-button @click=\"takeVideo\" shape=\"circle\" id=\"send\">\r\n                        <ion-icon :md=\"icon.md\" :ios=\"icon.ios\"></ion-icon>\r\n                    </ion-button>\r\n                </div>\r\n            </div>\r\n            <button id=\"modalButton\" style=\"display:none\"></button>\r\n            <ion-modal trigger=\"modalButton\" ref=\"modal\" :initial-breakpoint=\"0.25\" :breakpoints=\"[0, 0.25, 0.5, 0.75]\">\r\n              <ion-header>\r\n            <ion-toolbar class=\"ion-padding-horizontal\" >\r\n              <ion-text>\r\n                <p id=\"resultsModal\">Results:</p>\r\n              </ion-text>\r\n            </ion-toolbar>\r\n          </ion-header>\r\n                <ion-content class=\"ion-padding\">\r\n                \r\n                </ion-content>\r\n            </ion-modal>\r\n            \r\n        </ion-content>\r\n    </ion-page>\r\n  </template>\r\n  \r\n  <script >\r\n    import {\r\n      IonContent,\r\n      IonIcon,\r\n      IonModal,\r\n      IonHeader,\r\n      IonTitle,\r\n      IonText,\r\n      IonCard,\r\n      IonCardHeader,\r\n        IonCardTitle,\r\n        IonLabel,\r\n      IonToolbar,\r\n      IonPage,\r\n      IonButtons,\r\n      IonButton,\r\n      IonGrid, IonRow, IonCol, IonImg,\r\n      modalController,\r\n      loadingController \r\n    } from '@ionic/vue';\r\n    import { defineComponent } from 'vue';\r\n    import { cameraOutline, arrowBackOutline  } from 'ionicons/icons';\r\n    import {MediaCapture} from '@awesome-cordova-plugins/media-capture';\r\n  import {Capacitor} from '@capacitor/core';\r\n  import axios from 'axios';\r\n    export default defineComponent({\r\n      name: 'ModalVue',\r\n      components: { IonContent,     IonCard, IonLabel, IonPage,\r\n      IonCardHeader,\r\n        IonCardTitle,IonHeader, IonModal, IonTitle, IonToolbar, IonButtons, IonButton,IonIcon, IonGrid, IonRow, IonCol, IonImg,IonText },\r\n        mounted(){\r\n        // REMOVEE THIS SHITTT\r\n        document.getElementById(\"modalButton\").click();\r\n        },\r\n      data() {\r\n        return {\r\n            videoInfo: {},\r\n            icon: {\r\n                md: cameraOutline,\r\n                ios: cameraOutline,\r\n                mdBack: arrowBackOutline,\r\n                iosBack: arrowBackOutline\r\n            }\r\n        }\r\n      },\r\n      props: {\r\n        id: {\r\n          type: Number,\r\n          default: null,\r\n        },\r\n        title: {\r\n          type: String,\r\n          default: null,\r\n        },\r\n        question: {\r\n          type: String,\r\n          default: null,\r\n        },\r\n        difficulty: {\r\n          type: String,\r\n          default: null,\r\n        },\r\n        color: {\r\n          type: String,\r\n          default: null,\r\n        },\r\n        optionset1: {\r\n          type: Array,\r\n          default: null,\r\n        },\r\n        optionset2: {\r\n          type: Array,\r\n          default: null,\r\n        },\r\n        link: {\r\n          type: String,\r\n          default: null,\r\n        },\r\n      },\r\n      methods: {\r\n        cancel() {\r\n          return modalController.dismiss('cancel', this.videoInfo);\r\n        },\r\n\r\n        takeVideo: async function () {\r\n        \r\n        try {\r\n            \r\n          const options = {\r\n            duration: 10,\r\n            limit: 1,\r\n            quality: 1\r\n          };\r\n          const result = await MediaCapture.captureVideo(options);\r\n          this.videoInfo = result[0];\r\n          // console.log(\"videoInfo\", JSON.stringify(result[0]));\r\n          const blob = await fetch(\r\n            Capacitor.convertFileSrc(this.videoInfo.fullPath)\r\n          ).then(r => r.blob());\r\n          const formData = new FormData();\r\n          formData.append(\"file\", blob, this.videoInfo.name);\r\n          // convert video blob to base64\r\n          let reader = new FileReader();\r\n          reader.readAsDataURL(blob);\r\n          reader.onloadend = async function() {\r\n            let base64data = reader.result;\r\n            let trimmed = base64data.substring(base64data.indexOf(\",\") + 1);\r\n           console.log(trimmed); // DEBUG\r\n           const loading = await loadingController.create({\r\n            message: 'Please wait...'\r\n            });  \r\n            await loading.present();\r\n          axios({\r\n            method: \"post\",\r\n            url: \"https://hacked-beta-server.herokuapp.com/upload/\",\r\n            data: JSON.stringify({\r\n              _data: trimmed\r\n            }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n          }).then((response) => {\r\n            alert(response)\r\n                loading.dismiss();\r\n                if (response.status == 200){\r\n                  alert (JSON.stringify(response.data));\r\n                  document.getElementById(\"modalButton\").click();\r\n\r\n                }\r\n                \r\n            \r\n          });\r\n          };\r\n        } catch (error) {\r\n            // NEVER PUT ALERT HERE\r\n          console.log(error);\r\n      }\r\n    }\r\n      },\r\n    });\r\n  </script>\r\n\r\n  <style scoped>\r\nion-button#send::part(native) {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 100% !important;\r\n}\r\np#questionHeader{ \r\n  font-family: 'Ubuntu', sans-serif;\r\n  font-weight: 900;\r\n    font-size: 2rem;\r\n    text-align: center;\r\n    color: white; \r\n}\r\np#questionHint{ \r\n  font-family: 'Ubuntu', sans-serif;\r\n  font-weight: 400;\r\n    font-size: 2rem;\r\n    text-align: center;\r\n    color: white; \r\n}\r\np#resultsModal{ \r\n  font-family: 'Ubuntu', sans-serif;\r\n  font-weight: 900;\r\n    font-size: 1rem;\r\n    text-align: left;\r\n}\r\n.box {\r\n  width:100vw;\r\n  height:40rem;\r\n  display:inline-block;\r\n  padding-top:10px;\r\n  background:radial-gradient(100% 35% at top,#ff7454 99%,transparent 100%);\r\n}\r\nion-img {\r\n    height:100%;\r\n    width: 20rem !important;\r\n    margin: auto;\r\n    align-items: center;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}